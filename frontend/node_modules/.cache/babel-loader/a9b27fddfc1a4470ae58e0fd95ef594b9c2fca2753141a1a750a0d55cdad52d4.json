{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Son\\\\Desktop\\\\\\uBBFC\\uADE0\\\\\\uD559\\uAD50 \\uC218\\uC5C5\\\\\\uC804\\uACF5\\\\ADL\\\\WTN\\\\blog\\\\src\\\\pages\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './Chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Configuration,\n  OpenAIApi\n} = require(\"openai\");\nfunction Chat() {\n  _s();\n  const [novelText, setNovelText] = useState(''); // 소설 텍스트 상태\n  const [userInput, setUserInput] = useState(''); // 사용자 입력 상태\n  const configuration = new Configuration({\n    apiKey: process.env.OPENAI_API_KEY\n  });\n  const openai = new OpenAIApi(configuration);\n  const [prompt, setPrompt] = useState(\"\");\n  const [apiResponse, setApiResponse] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const result = await openai.createCompletion({\n        model: \"text-davinci-003\",\n        prompt: prompt,\n        temperature: 0.5,\n        max_tokens: 4000\n      });\n      //console.log(\"response\", result.data.choices[0].text);\n      setApiResponse(result.data.choices[0].text);\n    } catch (e) {\n      //console.log(e);\n      setApiResponse(\"Something is going wrong, Please try again.\");\n    }\n    setLoading(false);\n  };\n\n  // 사용자가 질문을 보내는 함수\n  const handleSendQuestion = () => {\n    setNovelText('');\n    // 여기에서 사용자 입력에 대한 로직을 추가할 수 있습니다.\n    console.log('User Question:', userInput);\n\n    // 여기에서 소설 등장인물의 대답을 생성하는 로직을 추가할 수 있습니다.\n    const characterResponse = '소설 등장인물의 대답...';\n\n    // 소설 텍스트에 사용자 입력과 등장인물의 대답을 추가\n    setNovelText(prevText => prevText + `\\n\\n${userInput}\\n${characterResponse}`);\n\n    // 사용자 입력 초기화\n    setUserInput('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat_container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          value: prompt,\n          placeholder: \"Please ask to openai\",\n          onChange: e => setPrompt(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: loading || prompt.length === 0,\n          type: \"submit\",\n          children: loading ? \"Generating...\" : \"Generate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), apiResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"API response:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), apiResponse]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat_text_box\",\n        children: novelText && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"novel_text\",\n          children: novelText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat_input\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"chat_input_box\",\n          value: userInput,\n          onChange: e => setUserInput(e.target.value),\n          placeholder: \"Enter your question..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn_submit\",\n          onClick: handleSendQuestion,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"icon_send\",\n            src: \"send.png\",\n            alt: \"send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 71\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"+MTFi6o65VazPEtXfTxVTn/c/2k=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Configuration","OpenAIApi","require","Chat","_s","novelText","setNovelText","userInput","setUserInput","configuration","apiKey","process","env","OPENAI_API_KEY","openai","prompt","setPrompt","apiResponse","setApiResponse","loading","setLoading","handleSubmit","e","preventDefault","result","createCompletion","model","temperature","max_tokens","data","choices","text","handleSendQuestion","console","log","characterResponse","prevText","className","children","style","display","justifyContent","alignItems","height","onSubmit","type","value","placeholder","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","disabled","length","onClick","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/Son/Desktop/민균/학교 수업/전공/ADL/WTN/blog/src/pages/Chat.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './Chat.css';\r\nconst { Configuration, OpenAIApi } = require(\"openai\");\r\n\r\nfunction Chat() {\r\n  const [novelText, setNovelText] = useState(''); // 소설 텍스트 상태\r\n  const [userInput, setUserInput] = useState(''); // 사용자 입력 상태\r\n  const configuration = new Configuration({\r\n    apiKey: process.env.OPENAI_API_KEY,\r\n  });\r\n  const openai = new OpenAIApi(configuration);\r\n  const [prompt, setPrompt] = useState(\"\");\r\n  const [apiResponse, setApiResponse] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const result = await openai.createCompletion({\r\n        model: \"text-davinci-003\",\r\n        prompt: prompt,\r\n        temperature: 0.5,\r\n        max_tokens: 4000,\r\n      });\r\n      //console.log(\"response\", result.data.choices[0].text);\r\n      setApiResponse(result.data.choices[0].text);\r\n    } catch (e) {\r\n      //console.log(e);\r\n      setApiResponse(\"Something is going wrong, Please try again.\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n\r\n  // 사용자가 질문을 보내는 함수\r\n  const handleSendQuestion = () => {\r\n    setNovelText('');\r\n    // 여기에서 사용자 입력에 대한 로직을 추가할 수 있습니다.\r\n    console.log('User Question:', userInput);\r\n\r\n    // 여기에서 소설 등장인물의 대답을 생성하는 로직을 추가할 수 있습니다.\r\n    const characterResponse = '소설 등장인물의 대답...';\r\n\r\n    // 소설 텍스트에 사용자 입력과 등장인물의 대답을 추가\r\n    setNovelText(prevText => prevText + `\\n\\n${userInput}\\n${characterResponse}`);\r\n\r\n    // 사용자 입력 초기화\r\n    setUserInput('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat_container\">\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: '100vh',\r\n        }}\r\n      >\r\n        <form onSubmit={handleSubmit}>\r\n          <textarea\r\n            type=\"text\"\r\n            value={prompt}\r\n            placeholder=\"Please ask to openai\"\r\n            onChange={(e) => setPrompt(e.target.value)}\r\n          ></textarea>\r\n          <button\r\n            disabled={loading || prompt.length === 0}\r\n            type=\"submit\"\r\n          >\r\n            {loading ? \"Generating...\" : \"Generate\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n      {apiResponse && (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <pre>\r\n            <strong>API response:</strong>\r\n            {apiResponse}\r\n          </pre>\r\n        </div>\r\n      )}\r\n      <div className='chat_box'>\r\n        <div className='chat_text_box'>\r\n          {novelText && <div className=\"novel_text\">{novelText}</div>}\r\n        </div>\r\n        <div className='chat_input'>\r\n          <textarea\r\n            className='chat_input_box'\r\n            value={userInput}\r\n            onChange={(e) => setUserInput(e.target.value)}\r\n            placeholder=\"Enter your question..\"\r\n          />\r\n          <button className='btn_submit' onClick={handleSendQuestion}><img className='icon_send' src='send.png' alt=\"send\" /></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}